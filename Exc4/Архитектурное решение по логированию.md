## Мотивация:
1) увеличение скорости поиска ошибок
2) отслеживание действий пользователей в системе
3) логирование нестандартных ситуаций
4) снижение времени ответа на вопросы клиентов об ошибках
5) обнаружение дефектов

### Внедрение логирования необходимо для:
1) магазин:
- изменение статуса заказа (INFO)
- ошибки 4хх 5хх (ERROR)
2) MES:
- изменение статуса заказа (INFO)
- внутренние ошибки (ERROR)
3) CRM:
- синхронизация данных заказа (INFO)
- редактирование заказа (INFO)
4) RabbitMQ:
- необработанные сообщения (WARNING)

## Предлагаемое решение:
1) ELK для сбора и просмотра
2) Filebeat для централизованного хранения
3) Fluentd для агрегирования логов из различных источников

### Политика безопасности:
1) Доступ для пользователей с ролями разработчик / поддержка, авторизация через Keycloak
2) Исключение из логов персональных данных пользователей

### Политика хранения:
### 
1. **Индексация данных:**
    - Создание индексов по уровню логирования (`INFO`, `WARNING`, `ERROR`).
    - Разделение индексов по системам (`Online Store`, `MES`, `CRM`, и т.д.).

2. **Сроки хранения данных:**
    - **INFO:** хранение до 30 дней.
    - **WARNING и ERROR:** хранение до 90 дней или до 10 ГБ индекса.

3. **Лимиты индекса:**
    - Максимальный размер индекса — 10 ГБ.
    - После заполнения лимита — автоматическая ротация данных (удаление старых логов).

### Превращение системы сбора логов в систему анализа логов:
1) алертинг: PagerDuty для превышения порогов по 5хх
2) для защиты от DDoS атак необходимо включение Rate Limiter + использование сторонних сервисов (Cloudflare например)